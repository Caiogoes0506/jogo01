<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üíé Mines - Joguinhos</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            background: linear-gradient(135deg, #0a0a0a, #1a1a1a, #2d4a2d, #1a3a1a);
            color: #e0e0e0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            min-height: 100vh; display: flex; flex-direction: column; align-items: center;
        }
        .title { color: #90EE90; font-size: 2.5em; margin: 20px 0; text-shadow: 2px 2px 4px #000; }
        
        .game-container { 
            background: linear-gradient(135deg, rgba(0,0,0,0.8), rgba(45,74,45,0.3));
            border: 3px solid #606060; border-radius: 20px; padding: 30px;
            box-shadow: 0 0 30px rgba(128, 128, 128, 0.3); margin: 20px;
            width: 90%; max-width: 900px;
        }
        
        .controles { 
            display: flex; gap: 20px; align-items: center; justify-content: center;
            background: rgba(0,0,0,0.8); padding: 20px; border-radius: 10px;
            border: 2px solid #606060; margin-bottom: 20px; flex-wrap: wrap;
        }
        
        .saldo { 
            font-size: 1.3em; color: #90EE90; padding: 10px 20px;
            background: rgba(45,74,45,0.3); border-radius: 5px; border: 1px solid #606060;
        }
        
        .config-grupo { 
            display: flex; flex-direction: column; align-items: center; gap: 5px;
        }
        
        .config-grupo input, .config-grupo select { 
            padding: 8px; border-radius: 5px; border: 1px solid #606060;
            background: rgba(45,74,45,0.3); color: #90EE90; text-align: center; width: 80px;
        }
        
        .btn-iniciar { 
            background: linear-gradient(45deg, #90EE90, #228B22);
            color: #000; border: 2px solid #000; padding: 15px 30px;
            font-size: 1.2em; font-weight: bold; border-radius: 10px;
            cursor: pointer; transition: all 0.3s;
        }
        .btn-iniciar:hover { transform: scale(1.05); }
        .btn-iniciar:disabled { background: #666; cursor: not-allowed; }
        
        .btn-retirar { 
            background: linear-gradient(45deg, #808080, #606060);
            color: #FFF; border: 2px solid #000; padding: 15px 30px;
            font-size: 1.2em; font-weight: bold; border-radius: 10px;
            cursor: pointer; transition: all 0.3s; display: none;
        }
        .btn-retirar:hover { transform: scale(1.05); }
        
        .campo-minado { 
            display: grid; grid-template-columns: repeat(5, 1fr);
            gap: 10px; width: 400px; margin: 0 auto 20px;
            padding: 20px; background: rgba(0,0,0,0.8); border-radius: 15px;
            border: 2px solid #606060; justify-items: center;
        }
        
        .celula { 
            width: 65px; height: 65px; border: 2px solid #606060;
            border-radius: 8px; cursor: pointer; display: flex;
            align-items: center; justify-content: center; font-size: 1.8em;
            transition: all 0.3s; background: linear-gradient(135deg, #404040, #2a2a2a);
        }
        .celula:hover { transform: scale(1.05); box-shadow: 0 0 15px rgba(144, 238, 144, 0.5); }
        .celula.revelada { background: linear-gradient(135deg, rgba(45,74,45,0.3), rgba(45,74,45,0.5)); }
        .celula.diamante { background: linear-gradient(135deg, #90EE90, #228B22); }
        .celula.bomba { background: linear-gradient(135deg, #FF4444, #CC0000); color: #FFF; font-weight: bold; }
        .celula.desabilitada { cursor: not-allowed; opacity: 0.5; }
        
        .info-jogo { 
            display: flex; justify-content: space-between; align-items: center;
            background: rgba(0,0,0,0.8); padding: 15px; border-radius: 10px;
            border: 1px solid #606060; margin-bottom: 20px;
        }
        
        .multiplicador { 
            font-size: 1.5em; color: #90EE90; font-weight: bold;
        }
        
        .resultado { 
            font-size: 1.3em; color: #90EE90; text-align: center;
            margin: 15px 0; min-height: 30px; background: rgba(0,0,0,0.8);
            padding: 10px; border-radius: 5px; border: 1px solid #606060;
        }
        
        .historico-container { 
            display: flex; gap: 20px; margin-top: 20px;
        }
        
        .historico-jogadas { 
            background: rgba(0,0,0,0.8); border: 2px solid #606060; border-radius: 10px;
            padding: 15px; flex: 1; max-height: 200px; overflow-y: auto;
        }
        
        .jogada-item { 
            display: flex; justify-content: space-between; margin: 5px 0;
            padding: 5px; border-radius: 5px; font-size: 0.9em;
        }
        .jogada-vitoria { background: rgba(45,74,45,0.5); }
        .jogada-derrota { background: rgba(64,64,64,0.5); }
        
        .botoes-extra { 
            display: flex; gap: 10px; justify-content: center; margin-top: 15px;
        }
        .btn-extra { 
            padding: 8px 15px; border: 1px solid #606060; border-radius: 5px;
            cursor: pointer; font-size: 0.9em; transition: all 0.3s;
            background: rgba(45,74,45,0.3); color: #90EE90;
        }
        
        @keyframes explosao { 
            0% { transform: scale(1); }
            50% { transform: scale(1.3); filter: brightness(2); }
            100% { transform: scale(1); filter: brightness(1); }
        }
        .explodindo { animation: explosao 0.5s ease-out; }
        
        @keyframes diamante-brilho { 
            0%, 100% { filter: brightness(1); }
            50% { filter: brightness(1.5); }
        }
        .brilhando { animation: diamante-brilho 0.8s ease-in-out; }
        
        @media (max-width: 480px) {
            .campo-minado {
                width: 90vw; max-width: 350px; gap: 6px; padding: 15px;
            }
            .celula {
                width: calc((90vw - 120px) / 5); height: calc((90vw - 120px) / 5);
                max-width: 55px; max-height: 55px; font-size: 1.5em;
            }
            .controles {
                flex-direction: column; gap: 15px;
            }
            .config-grupo {
                flex-direction: row; gap: 10px;
            }
            .back-button {
                top: 10px; left: 10px; padding: 8px 15px; font-size: 0.9em;
            }
        }
        
        .back-button {
            position: fixed;
            top: 20px;
            left: 20px;
            background: linear-gradient(45deg, #90EE90, #228B22);
            color: #000;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            z-index: 1000;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(144,238,144,0.3);
        }
        
        .back-button:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(144,238,144,0.5);
        }
    </style>
</head>
<body>
    <div class="back-button" onclick="window.location.href='index.html'">
        ‚Üê Voltar
    </div>
    <h1 class="title">üíé MINES - JOGUINHOS üíé</h1>
    
    <div class="game-container">
        <div class="controles">
            <div class="saldo" id="saldo">üí∞ SALDO: R$100</div>
            
            <div class="config-grupo">
                <label>üí∞ Aposta:</label>
                <input type="number" id="valorAposta" value="10" min="1">
            </div>
            
            <div class="config-grupo">
                <label>üí£ Minas:</label>
                <select id="numMinas">
                    <option value="3">3 Minas</option>
                    <option value="5" selected>5 Minas</option>
                    <option value="7">7 Minas</option>
                    <option value="10">10 Minas</option>
                </select>
            </div>
            
            <button class="btn-iniciar" id="btnIniciar" onclick="iniciarJogo()">
                üöÄ INICIAR
            </button>
            
            <button class="btn-retirar" id="btnRetirar" onclick="retirarGanhos()">
                üí∞ RETIRAR
            </button>
        </div>
        
        <div class="info-jogo" id="infoJogo" style="display: none;">
            <div>üíé Diamantes: <span id="diamantesEncontrados">0</span></div>
            <div class="multiplicador">Multiplicador: <span id="multiplicadorAtual">1.00x</span></div>
            <div>üí∞ Ganho Potencial: R$<span id="ganhoPotencial">0</span></div>
        </div>
        
        <div class="campo-minado" id="campoMinado"></div>
        
        <div class="resultado" id="resultado">üíé Configure sua aposta e inicie o jogo! üíé</div>
        
        <div class="historico-container">
            <div class="historico-jogadas">
                <h4 style="color: #90EE90; margin-bottom: 10px;">üìä √öltimas Jogadas:</h4>
                <div id="historicoJogadas"></div>
            </div>
        </div>
        
        <div class="botoes-extra">
            <button class="btn-extra" onclick="mostrarStats()">üìä Estat√≠sticas</button>
            <button class="btn-extra" onclick="mostrarHistorico()">üìú Hist√≥rico</button>
            <button class="btn-extra" onclick="resetSaldo()">üí∞ Reset</button>
        </div>
    </div>

    <script>
        let saldo = 100;
        let jogando = false;
        let valorAposta = 0;
        let numMinas = 5;
        let campo = [];
        let minas = [];
        let diamantesEncontrados = 0;
        let multiplicadorAtual = 1.00;
        let historico = [];
        let vitorias = 0;
        let derrotas = 0;
        let maiorGanho = 0;
        
        function criarCampo() {
            const campoEl = document.getElementById('campoMinado');
            campoEl.innerHTML = '';
            campo = [];
            
            for (let i = 0; i < 25; i++) {
                const celula = document.createElement('div');
                celula.className = 'celula';
                celula.onclick = () => revelarCelula(i);
                campoEl.appendChild(celula);
                campo.push({ revelada: false, mina: false, elemento: celula });
            }
        }
        
        function iniciarJogo() {
            if (jogando) return;
            
            const aposta = parseInt(document.getElementById('valorAposta').value);
            const minas = parseInt(document.getElementById('numMinas').value);
            
            if (!aposta || aposta <= 0 || aposta > saldo) {
                alert('‚ùå Valor de aposta inv√°lido!');
                return;
            }
            
            valorAposta = aposta;
            numMinas = minas;
            jogando = true;
            diamantesEncontrados = 0;
            multiplicadorAtual = 1.00;
            
            // Posicionar minas aleatoriamente
            posicionarMinas();
            
            // Atualizar interface
            document.getElementById('btnIniciar').style.display = 'none';
            document.getElementById('btnRetirar').style.display = 'block';
            document.getElementById('infoJogo').style.display = 'flex';
            document.getElementById('resultado').textContent = `üíé Encontre os diamantes! Evite as ${numMinas} minas (‚úñ)! üíé`;
            
            atualizarInfo();
        }
        
        function posicionarMinas() {
            minas = [];
            const posicoes = [];
            
            // Gerar posi√ß√µes √∫nicas para as minas
            while (posicoes.length < numMinas) {
                const pos = Math.floor(Math.random() * 25);
                if (!posicoes.includes(pos)) {
                    posicoes.push(pos);
                }
            }
            
            // Resetar campo
            campo.forEach((celula, i) => {
                celula.revelada = false;
                celula.mina = posicoes.includes(i);
                celula.elemento.textContent = '';
                celula.elemento.className = 'celula';
            });
            
            minas = posicoes;
        }
        
        function revelarCelula(index) {
            if (!jogando || campo[index].revelada) return;
            
            const celula = campo[index];
            celula.revelada = true;
            celula.elemento.classList.add('revelada');
            
            if (celula.mina) {
                // BOOM! Acertou uma mina
                celula.elemento.textContent = '‚úñ';
                celula.elemento.classList.add('bomba', 'explodindo');
                
                // Revelar todas as minas
                setTimeout(() => revelarTodasMinas(), 500);
                
                // Fim de jogo
                setTimeout(() => {
                    saldo -= valorAposta;
                    derrotas++;
                    
                    historico.push({
                        aposta: valorAposta,
                        minas: numMinas,
                        diamantes: diamantesEncontrados,
                        ganhou: false,
                        ganho: -valorAposta
                    });
                    
                    document.getElementById('resultado').textContent = `üí• BOOM! Voc√™ acertou uma mina (‚úñ)! Perdeu R$${valorAposta}`;
                    finalizarJogo();
                    atualizarSaldo();
                    atualizarHistoricoJogadas();
                }, 1000);
                
            } else {
                // Diamante encontrado!
                celula.elemento.textContent = 'üíé';
                celula.elemento.classList.add('diamante', 'brilhando');
                diamantesEncontrados++;
                
                // Calcular novo multiplicador
                const diamantesRestantes = 25 - numMinas - diamantesEncontrados;
                const probabilidade = diamantesRestantes / (25 - diamantesEncontrados);
                multiplicadorAtual *= (1 / probabilidade);
                
                atualizarInfo();
                
                // Verificar vit√≥ria (todos os diamantes encontrados)
                if (diamantesEncontrados === 25 - numMinas) {
                    setTimeout(() => {
                        const ganho = Math.floor(valorAposta * multiplicadorAtual);
                        saldo += ganho;
                        vitorias++;
                        if (ganho > maiorGanho) maiorGanho = ganho;
                        
                        historico.push({
                            aposta: valorAposta,
                            minas: numMinas,
                            diamantes: diamantesEncontrados,
                            ganhou: true,
                            ganho: ganho - valorAposta
                        });
                        
                        document.getElementById('resultado').textContent = `üéâ PERFEITO! Encontrou todos os diamantes! Ganhou R$${ganho}`;
                        finalizarJogo();
                        atualizarSaldo();
                        atualizarHistoricoJogadas();
                    }, 500);
                }
            }
        }
        
        function revelarTodasMinas() {
            minas.forEach(index => {
                if (!campo[index].revelada) {
                    campo[index].elemento.textContent = '‚úñ';
                    campo[index].elemento.classList.add('bomba');
                }
            });
        }
        
        function retirarGanhos() {
            if (!jogando || diamantesEncontrados === 0) return;
            
            const ganho = Math.floor(valorAposta * multiplicadorAtual);
            saldo += ganho;
            vitorias++;
            if (ganho > maiorGanho) maiorGanho = ganho;
            
            historico.push({
                aposta: valorAposta,
                minas: numMinas,
                diamantes: diamantesEncontrados,
                ganhou: true,
                ganho: ganho - valorAposta
            });
            
            document.getElementById('resultado').textContent = `üí∞ Retirou com seguran√ßa! Ganhou R$${ganho} (${multiplicadorAtual.toFixed(2)}x)`;
            finalizarJogo();
            atualizarSaldo();
            atualizarHistoricoJogadas();
        }
        
        function finalizarJogo() {
            jogando = false;
            
            // Desabilitar todas as c√©lulas
            campo.forEach(celula => {
                celula.elemento.classList.add('desabilitada');
            });
            
            document.getElementById('btnIniciar').style.display = 'block';
            document.getElementById('btnRetirar').style.display = 'none';
            document.getElementById('infoJogo').style.display = 'none';
            
            setTimeout(() => {
                criarCampo();
                if (saldo <= 0) {
                    alert('üíé GAME OVER\nüíî Seu saldo acabou!');
                    location.reload();
                }
            }, 3000);
        }
        
        function atualizarInfo() {
            document.getElementById('diamantesEncontrados').textContent = diamantesEncontrados;
            document.getElementById('multiplicadorAtual').textContent = multiplicadorAtual.toFixed(2) + 'x';
            document.getElementById('ganhoPotencial').textContent = Math.floor(valorAposta * multiplicadorAtual);
        }
        
        function atualizarHistoricoJogadas() {
            const container = document.getElementById('historicoJogadas');
            const ultimas = historico.slice(-10).reverse();
            
            container.innerHTML = '';
            ultimas.forEach(jogada => {
                const div = document.createElement('div');
                div.className = `jogada-item ${jogada.ganhou ? 'jogada-vitoria' : 'jogada-derrota'}`;
                div.innerHTML = `
                    <span>${jogada.ganhou ? 'üíé' : '‚úñ'} ${jogada.diamantes} diamantes</span>
                    <span>R$${jogada.ganho > 0 ? '+' : ''}${jogada.ganho}</span>
                `;
                container.appendChild(div);
            });
        }
        
        function atualizarSaldo() {
            const saldoEl = document.getElementById('saldo');
            saldoEl.textContent = `üí∞ SALDO: R$${saldo}`;
            saldoEl.style.color = saldo > 0 ? '#FFD700' : '#FF4444';
        }
        
        function mostrarStats() {
            if (historico.length === 0) {
                alert('üìä Estat√≠sticas\nüíé Nenhuma jogada realizada ainda!');
                return;
            }
            
            const totalJogadas = historico.length;
            const taxaVitoria = (vitorias / totalJogadas * 100).toFixed(1);
            const lucroTotal = historico.reduce((acc, h) => acc + h.ganho, 0);
            
            alert(`üìä ESTAT√çSTICAS DO MINES üìä\n\nüíé Total de Jogadas: ${totalJogadas}\nüéâ Vit√≥rias: ${vitorias}\nüí£ Derrotas: ${derrotas}\nüìà Taxa de Sucesso: ${taxaVitoria}%\nüí∞ Lucro/Preju√≠zo Total: R$${lucroTotal}\nüéØ Maior Ganho: R$${maiorGanho}\nüí≥ Saldo Atual: R$${saldo}`);
        }
        
        function mostrarHistorico() {
            if (historico.length === 0) {
                alert('üìú Hist√≥rico\nüíé Nenhuma jogada realizada ainda!');
                return;
            }
            
            const ultimas = historico.slice(-10).reverse();
            let texto = 'üìú √öLTIMAS 10 JOGADAS üìú\n\n';
            
            ultimas.forEach((jogada, i) => {
                const resultado = jogada.ganhou ? 'üíé' : '‚úñ';
                texto += `${i + 1}. ${resultado} ${jogada.diamantes} diamantes - R$${jogada.ganho > 0 ? '+' : ''}${jogada.ganho}\n`;
            });
            
            alert(texto);
        }
        
        function resetSaldo() {
            if (confirm('üí∞ Reset Saldo\nüîÑ Deseja resetar seu saldo para R$100?\n‚ö†Ô∏è Isso apagar√° seu hist√≥rico!')) {
                saldo = 100;
                historico = [];
                vitorias = 0;
                derrotas = 0;
                maiorGanho = 0;
                atualizarSaldo();
                atualizarHistoricoJogadas();
                document.getElementById('resultado').textContent = 'üíé Saldo resetado! Boa sorte! üíé';
                alert('‚úÖ Sucesso\nüí∞ Saldo resetado com sucesso!');
            }
        }
        
        // Inicializar
        criarCampo();
    </script>
</body>
</html>